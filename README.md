# Avito-project
Автор: Галичин Антон <br />
Email: galichin-anton@yandex.ru

Сервис подписки на объявления цены
Сервис продоставляет веб интерфейс для подписки на определенное объявление заданное URL.

Сервис развертывется с помощью docker-compose.

Сервис работает в связке php-fpm + nginx + mysql + PHPMyAdmin.

Для корректной работы приложения необходимо изменить строчку в hosts файле:

### 127.0.0.1 avito.test

Во время запуска контейнеров будет автоматически создана база данных для работы сервиса.

### docker-compose up --build
## Описание работы приложения
Пользователь вводит свое имя(необязательно), email и URL объявления, на который он хочет подписаться.

Далее ему отправляется письмо о том, что подписка оформлена успешно, а также оно содежит актуальную цену из объявления.

Пользователь и ID объявления помещаются в базу данных для хранения информации о подписках.

Каждые 30 минут идет проверка изменения цены в объявлениях и оповещение пользователей. Алгоритм работы следующий

1. Подгружаются все объявления, за которые подписывались пользователи;
2. Проверяется отклонение сохраненной цены и актуальной;
3. В случае несоответствия запись в базе данных обновляется, осуществляется выборка пользователей, 
которые подписаны на это объявление и им отправляется уведомление об изменении цены.

Также доступна регистрация по ссылке: 
#### http://avito.test:8000/scripts/register.php?email=YOUR_EMAIL&url=YOUR_URL
